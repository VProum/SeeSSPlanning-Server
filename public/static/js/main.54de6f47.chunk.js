(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{207:function(e,t,a){e.exports=a(246)},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),i=a(21),o=a(13),s=a(14),u=a(16),m=a(15),d=a(166),h=a.n(d).a.create({baseURL:"https://cssp-twitch.herokuapp.com",withCredentials:!0,headers:{"Client-ID":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://cssp-twitch.herokuapp.com",REACT_APP_TWITCH_CLIENT_ID:"exjjrzsfql2pr10iq2tf78g7cmcey7"}).TWITCH_CLIENT_ID}});function p(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var f=function(e){return h.post("/api/auth/signup",e).then((function(e){return e.data})).catch(p)},g=function(e){return h.post("/api/auth/signin",e).then((function(e){return e.data})).catch(p)},v=function(){return h.get("/auth/isLoggedIn").then((function(e){return e.data})).catch(p)},b=function(){return h.get("/auth/logout").then((function(e){return e.data})).catch(p)},E=function(){return h.get("/user/streamer").then((function(e){return e.data})).catch(p)},y=function(e){return h.get("/user/streamer/search/"+e).then((function(e){return e.data})).catch(p)},w=function(){return h.get("/user/follow").then((function(e){return e.data})).catch(p)},k=function(e){return h.post("/user/streamer/"+e).then((function(e){return e.data})).catch(p)},j=function(e){return h.delete("/user/streamer/"+e).then((function(e){return e.data})).catch(p)},S=function(e){return h.get("/user/planning/"+e).then((function(e){return e.data})).catch(p)},O=function(e){return h.post("/schedule/create",e).then((function(e){return e.data}))},x=function(){return h.get("/schedule/get").then((function(e){return e.data})).catch(p)},C=function(e){return h.delete("/schedule/delete/"+e).then((function(e){return e.data}))},_=r.a.createContext(),L=_,N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return r.a.createElement(_.Provider,{value:e},this.props.children)}}]),a}(n.Component),D=a(33),F=a(40),I=a(22),T=a(288),A=a(291),M=a(293),B=a(295),H=a(296),P=a(294),U=a(167),W=a.n(U),R=function(e){return function(t){return r.a.createElement(_.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},z=Object(T.a)((function(e){return{root:{flexGrow:1,backgroundColor:"red"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),K=R((function(e){var t=e.context,a=e.context.user;var n=z();return r.a.createElement("div",{className:n.root},r.a.createElement(A.a,{style:{backgroundColor:"#251a36",position:"sticky"}},r.a.createElement(M.a,null,r.a.createElement(P.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(i.c,{exact:!0,to:"/"},r.a.createElement(W.a,null))),r.a.createElement(B.a,{variant:"h6",className:n.title},r.a.createElement(i.c,{exact:!0,to:"/planning"},a&&r.a.createElement("span",{style:{marginRight:"3%"}},"See Plannings")),r.a.createElement(i.c,{exact:!0,to:"/schedule/edit"},a&&a[0].isStreamer&&r.a.createElement("span",{style:{marginRight:"3%"}},"Schedule a Stream")),r.a.createElement(i.c,{exact:!0,to:"/user/edit"},a&&r.a.createElement("span",{style:{marginRight:"3%"}},"Add Streamer to Monitor"))),!a&&r.a.createElement(H.a,{color:"inherit",onClick:function(){var e="https://id.twitch.tv/oauth2/authorize?client_id=".concat("exjjrzsfql2pr10iq2tf78g7cmcey7","&redirect_uri=").concat("https://cssp-twitch.herokuapp.com","/auth/twitch/callback&response_type=code&scope=user:read:email");window.location=e}},"Login"),a&&r.a.createElement(H.a,{color:"inherit",onClick:function(){b().then((function(){t.removeUser(),window.location=window.location.href})).catch((function(e){console.log(e)}))}},"Logout"))))})),G=a(31),q=a.n(G),J=a(45),Q=a(305),V=a(175),Y=a(95),$=a(169),X=a.n($),Z=Object(T.a)((function(e){return{button:{margin:e.spacing(1)}}})),ee=function(e){var t=Z();function a(t){e.removeStreamer(t.currentTarget.id)}var n={marginLeft:"15px",width:e.isDelete?"80vw":"100vw",minHeight:"100vh"};return r.a.createElement("div",{className:"streamer-list",style:n},e.userList.map((function(n,l){return r.a.createElement(Q.a,{key:l,color:"teal"},r.a.createElement(i.b,{to:"/planning/".concat(n.twitch_id)},r.a.createElement(V.a,{src:n.avatar,wrapped:!0,ui:!1,alt:"blurry"})),r.a.createElement(Q.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(i.b,{to:"/planning/".concat(n.twitch_id)},r.a.createElement(Q.a.Header,null,n.nickname),r.a.createElement(Q.a.Meta,null,n.streamer_type),r.a.createElement(Y.a,{name:"users"}),n.nb_followers," followers"),e.isDelete&&r.a.createElement(H.a,{color:"primary",className:t.button,startIcon:r.a.createElement(X.a,null),onClick:a,id:l},"remove")))})))},te=(a(237),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={allStreamers:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({allStreamers:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement("section",{className:"landing"},r.a.createElement("h1",null,r.a.createElement("span",{className:"text-focus-in"},"Made by G@m3rz"),r.a.createElement("br",null),r.a.createElement("span",{className:"text-focus-in-delay"},"for Str3amerz")),r.a.createElement("div",{className:"sub-title"},r.a.createElement("p",{className:"tracking-in-expand"},"See Simple Streamer Planning :",r.a.createElement("br",null)," Monitor all your favourite streamer plannings in one page")),r.a.createElement("div",{className:"landing-btn scale-in-center"},r.a.createElement("a",{href:"#showall"},"Already ",this.state.allStreamers.length," streamers registered"))),r.a.createElement("section",{className:"poti-card"},r.a.createElement("h2",null,"Improve your Twitch ",r.a.createElement("br",null),"Experience"),r.a.createElement("span",null,"Organise your day as a moderator so you can know who is broadcasting"),r.a.createElement("div",{className:"toto-card"},r.a.createElement("div",null,r.a.createElement(i.b,{to:"/planning"},r.a.createElement(Q.a,{style:{height:"300px",width:"400px"}},r.a.createElement(V.a,{src:"https://cdn-wp.thesportsrush.com/2020/09/LOL-worlds.jpg",wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(Q.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(Q.a.Header,null,"See All Plannings"),r.a.createElement(Q.a.Meta,null,"Never miss a stream again"))))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/schedule/edit"},r.a.createElement(Q.a,{style:{height:"300px",width:"400px"}},r.a.createElement(V.a,{src:"https://www.tiltreport.com/media/An_Inside_Look_At_The_Harsh_Reality_Of_Streaming_In_Malaysia.jpg",wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(Q.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(Q.a.Header,null,"Schedule your Stream"),r.a.createElement(Q.a.Meta,null,"Share your planning with everybody"))))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/user/edit"},r.a.createElement(Q.a,{style:{height:"300px",width:"400px"}},r.a.createElement(V.a,{src:"https://images.unsplash.com/photo-1538481199705-c710c4e965fc",wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(Q.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(Q.a.Header,null,"Add Streamer to monitor"),r.a.createElement(Q.a.Meta,null,"you can choose to follow whatever you want"))))))),r.a.createElement("section",{id:"showall"},r.a.createElement("div",{style:{display:"grid"}},r.a.createElement("h1",null,"See All the Streamers")),r.a.createElement(ee,{userList:this.state.allStreamers})))}}]),a}(r.a.Component)),ae=a(85),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(ae.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),g(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"}),r.a.createElement("button",null,"Submit"))}}]),a}(n.Component);ne.contextType=_;var re=Object(I.g)(ne),le=function(e){return r.a.createElement(re,null)},ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,n=t.target.name;e.setState(Object(ae.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),f(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"}),r.a.createElement("button",null,"Submit"))}}]),a}(n.Component);ce.contextType=_;var ie=Object(I.g)(ce),oe=function(e){return r.a.createElement(ie,null)},se=a(177),ue=R((function(e){var t=e.component,a=e.context,n=Object(se.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?r.a.createElement(I.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(I.a,{to:"/signin"})})),me=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Protected profile"))},de=a(297),he=(a(238),a(239),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.context.user;return e&&0!==e.length?r.a.createElement("div",{className:"streamer-detail"},r.a.createElement("h1",null,"Welcome ",e[0].nickname,"!"),r.a.createElement("p",null,"Here is all the streamers you are currently monitoring : ")):r.a.createElement(de.a,null)}}]),a}(n.Component));he.contextType=L;var pe=R(he),fe=a(309),ge=a(310),ve=a(311),be=a(303),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={filterValue:"",streamer_list:[]},n.ClickHandler=n.ClickHandler.bind(Object(F.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({streamer_list:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ClickHandler",value:function(){var e=Object(J.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.streamer_list[t.currentTarget.id],0!==this.props.userList.filter((function(e){return e._id===a._id})).length){e.next=5;break}return e.next=4,k(a._id);case 4:this.props.addStreamer(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props;return r.a.createElement("div",{className:t.root},r.a.createElement(fe.a,{columns:1},r.a.createElement(fe.a.Column,null,r.a.createElement(ge.a.Pushable,{as:ve.a},r.a.createElement(ge.a,{as:be.a,animation:"push",inverted:!0,visible:!0,vertical:!0,width:"thin"},r.a.createElement(be.a.Item,null,"Click to Add Streamer"),this.state.streamer_list.map((function(t,a){return r.a.createElement(be.a.Item,{key:a,id:a,onClick:e.ClickHandler},r.a.createElement(V.a,{src:t.avatar,alt:"toto",avatar:!0}),r.a.createElement("span",null,t.nickname))}))),r.a.createElement(ge.a.Pusher,{dimmed:this.state.dimmed,style:{backgroundColor:"#442d6b",backgroundImage:'url("https://i.pinimg.com/originals/75/5c/57/755c576d50d64770a04e703402eddfc3.jpg")',backgroundAttachment:"fixed",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},r.a.createElement(pe,null),r.a.createElement(ee,{userList:this.props.userList,removeStreamer:this.props.removeFollow,isDelete:!0}))))))}}]),a}(n.Component),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={streamer_follow:[]},n.addFollow=n.addFollow.bind(Object(F.a)(n)),n.removeFollow=n.removeFollow.bind(Object(F.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,this.setState({streamer_follow:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addFollow",value:function(e){var t=Object(D.a)(this.state.streamer_follow);t.push(e),this.setState({streamer_follow:t})}},{key:"removeFollow",value:function(){var e=Object(J.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(D.a)(this.state.streamer_follow),e.next=3,j(a[t]._id);case 3:a.splice(t,1),this.setState({streamer_follow:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{addStreamer:this.addFollow,userList:this.state.streamer_follow,removeFollow:this.removeFollow}))}}]),a}(n.Component),we=a(58),ke=a(5),je=a(298),Se=a(174),Oe=a(315),xe=a(30),Ce=a(302),_e=a(314),Le=a(316),Ne=a(301),De=a(304),Fe=a(172),Ie=a.n(Fe),Te=a(171),Ae=a.n(Te),Me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hour_day:null,duration:3,weekday:"",image:"",schedule_obj:{hour_day:null,duration:3,weekday:"",image:""},schedule_list:[],planning_image:""},e.handleChange=function(t){return e.setState({lastname:t.target.value}),t},e.handleDateChange=function(t){e.setState((function(e){return{hour_day:t,schedule_obj:Object(we.a)(Object(we.a)({},e.schedule_obj),{},{hour_day:t})}}))},e.valuetext=function(t,a){var n=a;e.setState((function(e){return{duration:n,schedule_obj:Object(we.a)(Object(we.a)({},e.schedule_obj),{},{duration:n})}}))},e.handleSubmit=function(t){t.preventDefault(),e.state.schedule_obj.image,e.props.context.user[0].planning_image;var a=new FormData;for(var n in e.state.schedule_obj)e.state.schedule_obj[n]&&a.append(n,e.state.schedule_obj[n]);O(a).then((function(t){return e.props.addSchedule(t)})).catch((function(e){console.log(e)}))},e.handleSelectChange=function(t){e.setState((function(e){return{weekday:t.target.value,schedule_obj:Object(we.a)(Object(we.a)({},e.schedule_obj),{},{weekday:t.target.value})}}))},e.handleImgChange=function(t){var a=t.target.files[0];e.setState((function(e){return{image:a,schedule_obj:Object(we.a)(Object(we.a)({},e.schedule_obj),{},{image:a})}}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({schedule_list:this.props.schedule_list})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"".concat(e.root),style:{marginTop:"2%",marginLeft:"2%",fontSize:"1.3rem"}},"Add a stream in schedule",r.a.createElement("br",null),r.a.createElement("form",{className:e.root,onSubmit:this.handleSubmit},r.a.createElement(xe.a,{utils:Se.a},r.a.createElement(je.a,{container:!0,justify:"flex-start"},r.a.createElement(Ce.a,{i:"hour_day",name:"hour_day",label:"Start Hour",value:this.state.hour_day,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change time"}}))),r.a.createElement("br",null),r.a.createElement(B.a,{id:"discrete-slider-always",gutterBottom:!0},"Duration"),r.a.createElement(Oe.a,{id:"duration",name:"duration","aria-labelledby":"discrete-slider-always",step:1,min:1,max:12,marks:[{value:1,label:"1h"},{value:2,label:"2h"},{value:3,label:"3h"},{value:4,label:"4h"},{value:5,label:"5h"},{value:6,label:"6h"},{value:7,label:"7h"},{value:8,label:"8h"},{value:9,label:"9h"},{value:10,label:"10h"},{value:11,label:"11h"},{value:12,label:"12h"}],valueLabelDisplay:"on",value:this.state.duration,onChange:this.valuetext,style:{width:"90%"}}),r.a.createElement("br",null),r.a.createElement(Ne.a,{className:e.formControl},r.a.createElement(_e.a,{id:"weekday"},"Weekday"),r.a.createElement(De.a,{labelId:"weekday",id:"weekday",name:"weekday",value:this.state.weekday,onChange:this.handleSelectChange},r.a.createElement(Le.a,{value:"Monday"},"Monday"),r.a.createElement(Le.a,{value:"Tuesday"},"Tuesday"),r.a.createElement(Le.a,{value:"Wednesday"},"Wednesday"),r.a.createElement(Le.a,{value:"Thursday"},"Thursday"),r.a.createElement(Le.a,{value:"Friday"},"Friday"),r.a.createElement(Le.a,{value:"Saturday"},"Saturday"),r.a.createElement(Le.a,{value:"Sunday"},"Sunday")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",{style:{marginTop:"2%",marginBottom:"1%",fontSize:"1.3rem"}}," Add your own weekly planning image  "),r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",name:"planning_image",onChange:this.handleImgChange,style:{display:"none"}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(H.a,{variant:"contained",color:"default",component:"span",className:e.button,startIcon:r.a.createElement(Ae.a,null)},"Upload"),this.state.image&&r.a.createElement("span",{className:"edit-schedule-image-span"},"Uploaded file: ",this.state.image.name)))),r.a.createElement("br",null),r.a.createElement("div",{className:"edit-schedule-btn-save"},r.a.createElement(H.a,{variant:"contained",color:"primary",size:"large",className:e.button,startIcon:r.a.createElement(Ie.a,null),style:{marginTop:"1%"},type:"submit"},"Add Timeslot"))))}}]),a}(r.a.Component),Be=Object(ke.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1),width:"75%"},"& .MuiFormControl-root":{width:"75%"}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}))(R(Me)),He=(a(240),a(173)),Pe=a.n(He),Ue=a(319),We=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).state={streamerFiltered:[]},n.clickHandler=function(e){y(e).then((function(e){var t=e;n.setState({streamerFiltered:t})}))},n.handleChange=function(e){var t=e.target.value;clearTimeout(n.typing),n.typing=setTimeout((function(){return n.clickHandler(t)}),500)},n.handleSearchStreamer=function(e){n.props.filterSearch(e),n.setState({test:!1})};return n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.streamerFiltered.length,r.a.createElement("div",null,r.a.createElement("div",{className:t.margin},r.a.createElement(je.a,{container:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(je.a,{item:!0},r.a.createElement(Pe.a,null)),r.a.createElement(je.a,{item:!0},r.a.createElement(Ue.a,{id:"input-with-icon-grid",label:"Find a streamer",style:{width:"33vw"},onChange:this.handleChange})))),this.state.streamerFiltered.length>0&&this.state.test&&r.a.createElement("ul",{id:"searchUl"},this.state.streamerFiltered.map((function(t,a){return r.a.createElement("li",{key:a,onClick:function(){return e.handleSearchStreamer(t)}},t.nickname)}))))}}]),a}(n.Component),Re=Object(ke.a)((function(e){return{margin:{margin:e.spacing(1)}}}))(We),ze=a(313),Ke=a(312),Ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={streamerFiltered:[]},e.handleDelete=function(){console.info("You clicked the delete icon.")},e.handleClick=function(){console.info("You clicked the Chip.")},e.handleSearch=function(t){e.setState({streamerFiltered:t})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.streamerFiltered.length,r.a.createElement("div",{className:e.root,style:{display:"flex",flexDirection:"column"}},r.a.createElement("h1",null,"youhou"),r.a.createElement(Re,{filterSearch:this.handleSearch}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",null,"Les personnes suivantes peuvent modifier le planning")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{avatar:r.a.createElement(ze.a,{alt:this.state.streamerFiltered.nickname,src:this.state.streamerFiltered.avatar}),label:this.state.streamerFiltered.nickname,onDelete:this.handleDelete})),r.a.createElement(Ke.a,{avatar:r.a.createElement(ze.a,{alt:"Natacha",src:"/static/images/avatar/1.jpg"}),label:"Deletable",onDelete:this.handleDelete})))}}]),a}(n.Component),qe=(Object(ke.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}}))(Ge),a(176)),Je=(a(241),a(307));function Qe(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}var Ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={schedule_list:e.props.schedule_list},e.handleScheduleFormat=function(e){var t={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]};function a(e,t){var a=e.hour_day,n=t.hour_day,r=0;return a>n?r=1:a<n&&(r=-1),r}for(var n in e.map((function(e){for(var a in t)a===e.weekday&&t[a].push(e)})),t)t[n].sort(a);return t},e.deleteElement=function(t){C(t).then((function(t){return e.props.deleteSchedule(t)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({schedule_list:this.props.schedule_list})}},{key:"render",value:function(){var e=this,t=this.handleScheduleFormat(this.props.schedule_list);return this.props.context.user?r.a.createElement("div",{style:{backgroundColor:"#442d6b",color:"whitesmoke",display:"flex",justifyContent:"center"}},r.a.createElement("ul",{className:"form-display-card"},Object.entries(t).map((function(t,a){var n=Object(qe.a)(t,2),l=n[0],c=n[1];return r.a.createElement("li",{key:a,className:"form-display-schedule-line-row"},r.a.createElement("div",{className:"form-display-schedule-weekday"},r.a.createElement("strong",null,l)),c.map((function(t,a){return r.a.createElement("div",{key:a,className:"fliptheCard"},r.a.createElement(Q.a.Group,{className:"main-card"},r.a.createElement(Q.a,{style:{backgroundColor:t.colorBackground?t.colorBackground:"#342450",display:"flex",flexDirection:"column",marginRight:"20%",width:"150px"}},r.a.createElement(i.b,{to:"/planning/".concat(t.streamer_id)},r.a.createElement(Q.a.Content,{className:"form-display-schedule-content"},r.a.createElement(V.a,{floated:"right",size:"mini",src:t.avatar,alt:"avatar"}),r.a.createElement(Q.a.Header,{style:{color:(n=Qe(t.colorBackground),(.299*n.r+.587*n.g+.114*n.b)/255>.5?"black":"white")}},t.hour_day,r.a.createElement("br",null),t.calcDuration),r.a.createElement(Q.a.Meta,null),r.a.createElement(Q.a.Description,null))),e.props.isdelete&&r.a.createElement(Q.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(Je.a,{basic:!0,color:"blue"},r.a.createElement("div",{className:"form-display-schedule-container",onClick:function(){return e.deleteElement(t._id)}},"Delete")))))));var n})))})))):r.a.createElement(de.a,null)}}]),a}(r.a.Component),Ye=Object(ke.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",color:"whitesmoke","& > *":{margin:e.spacing(.5),color:"whitesmoke"}}}}))(R(Ve)),$e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hour_day:null,duration:3,weekday:"",nickname:"",schedule_list:[]},e.handleAdd=function(t){e.setState({schedule_list:[].concat(Object(D.a)(e.state.schedule_list),[t])})},e.handleDelete=function(t){e.setState({schedule_list:t})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;x().then((function(t){e.setState({schedule_list:t})}))}},{key:"render",value:function(){return this.props.context.user?r.a.createElement("div",null,r.a.createElement("h1",{style:{marginLeft:"2%",display:"flex",justifyContent:"center"}},"Schedule your stream"),r.a.createElement("div",{className:"edit-schedule-container"},r.a.createElement(Be,{addSchedule:this.handleAdd}),r.a.createElement("div",{className:"display-schedule-container"},r.a.createElement(Ye,{deleteSchedule:this.handleDelete,isdelete:!0,schedule_list:this.state.schedule_list})))):r.a.createElement(de.a,null)}}]),a}(n.Component);$e.contextType=L;var Xe=R($e);function Ze(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}var et=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={followingStreamers:[],filterStreamer:[],scheduleList:[],visible:!1,dimmed:!1},n.handleNothing=function(){},n.handleDelete=n.handleDelete.bind(Object(F.a)(n)),n.changeColor=n.changeColor.bind(Object(F.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,a=Object(D.a)(t),this.setState({followingStreamers:t,filterStreamer:a}),n=[],Object(D.a)(a).map((function(e){e.planningList.length>0&&e.planningList.map((function(e){e.colorBackground="#342450",n.push(e)}))})),this.setState({scheduleList:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(e){var t=Object(D.a)(this.state.filterStreamer);t.splice(e.currentTarget.parentElement.id,1),this.setState({filterStreamer:t});var a=[];Object(D.a)(t).map((function(e){e.planningList.length>0&&e.planningList.map((function(e){e.colorBackground="#342450",a.push(e)}))})),this.setState({scheduleList:a})}},{key:"changeColor",value:function(e,t){var a=this,n=e.currentTarget.value,r=[];clearTimeout(this.changingColor),this.changingColor=setTimeout((function(){var e=Object(D.a)(a.state.filterStreamer);e[t].colorBackground=n,a.setState({filterStreamer:e}),e.map((function(a,l){a.planningList.length>0&&a.planningList.map((function(a,l){e[t].nickname===a.streamer_name[0]&&(a.colorBackground=n),r.push(a)}))})),a.setState({scheduleList:r})}),200)}},{key:"render",value:function(){var e=this;this.props.context.user;return r.a.createElement(fe.a,{columns:1},r.a.createElement(fe.a.Column,{style:{display:"flex",backgroundColor:"#8877a6"}},r.a.createElement("div",{style:{padding:"10px 30px",margin:"auto 0",width:"170px",height:"40px",color:"whitesmoke",fontWeight:"bolder",border:"1px solid whitesmoke",borderRadius:"50px"},onClick:function(){e.setState({dimmed:!e.state.dimmed,visible:!e.state.visible})}},r.a.createElement(Y.a,{name:"add user"}),r.a.createElement("span",null,"Add Streamer")),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",backgroundColor:"#8877a6"}},this.state.filterStreamer.map((function(t,a){return r.a.createElement("div",{key:a,style:{display:"flex",flexDirection:"column"}},r.a.createElement(Ke.a,{variant:"outlined",avatar:r.a.createElement(ze.a,{alt:t.nickname,src:t.avatar}),label:t.nickname,onDelete:e.handleDelete,id:a,onClick:function(){return document.getElementById(t.nickname).click()},style:{backgroundColor:t.colorBackground?t.colorBackground:"#442d6b",color:(n=Ze(t.colorBackground),(.299*n.r+.587*n.g+.114*n.b)/255>.5?"black":"white")}}),r.a.createElement("input",{type:"color",id:t.nickname,onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return e.changeColor(t,n)},hidden:!0}));var n})))),r.a.createElement(fe.a.Column,{style:{padding:"0px"}},r.a.createElement(ge.a.Pushable,{as:ve.a,style:{height:"100vh"}},r.a.createElement(ge.a,{as:be.a,animation:"push",inverted:!0,onHide:function(){e.setState({dimmed:!1,visible:!1})},vertical:!0,visible:this.state.visible,width:""},r.a.createElement(i.b,{to:"/user/edit"},r.a.createElement(be.a.Item,null,"Click to Add Streamer's Schedule")),this.state.followingStreamers.map((function(t,a){return r.a.createElement(be.a.Item,{key:a,index:a,onClick:function(t,a){var n=Object(D.a)(e.state.filterStreamer);n.push(e.state.followingStreamers[a.index]),n=Object(D.a)(new Set(n)),e.setState({filterStreamer:n});var r=[];Object(D.a)(n).map((function(e){e.planningList.length>0&&e.planningList.map((function(e){e.colorBackground="#342450",r.push(e)}))})),e.setState({scheduleList:r})}},r.a.createElement(V.a,{src:t.avatar,alt:"toto",avatar:!0}),r.a.createElement("span",null,t.nickname))}))),r.a.createElement(ge.a.Pusher,{dimmed:this.state.dimmed,style:{backgroundColor:"#442d6b"}},r.a.createElement(Ye,{deleteSchedule:this.handleNothing,schedule_list:this.state.scheduleList})))))}}]),a}(n.Component),tt=Object(ke.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5),"& .MuiChip-deleteIcon":{backgroundColor:"primary"}}}}}))(R(et)),at=(a(242),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={streamerFiltered:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;S(this.props.match.params.id).then((function(t){e.setState({streamerFiltered:t[0]})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"one-schedule-global"},r.a.createElement("h1",{style:{fontSize:"3em",textAlign:"center",color:"whitesmoke",marginBottom:"2%",textShadow:"1px 1px 2px black, 0 0 25px white"}},this.state.streamerFiltered.nickname,"'s schedule "),r.a.createElement("div",{className:"one-schedule-main-container"},r.a.createElement("div",{className:"one-schedule-user-card"},r.a.createElement(i.b,{to:{pathname:"https://www.twitch.tv/".concat(this.state.streamerFiltered.nickname)},target:"_blank"},r.a.createElement(Q.a,{color:"teal",style:{height:"250px",width:"175px"}},r.a.createElement(V.a,{src:this.state.streamerFiltered.avatar,wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(Q.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(Q.a.Header,null,this.state.streamerFiltered.nickname),r.a.createElement(Q.a.Meta,null,this.state.streamerFiltered.streamer_type),r.a.createElement(Y.a,{name:"users"}),this.state.streamerFiltered.nb_followers)))),r.a.createElement("div",{className:"one-schedule-wall-card"},this.state.streamerFiltered&&r.a.createElement("div",{className:"one-schedule-img-container"},r.a.createElement("img",{src:this.state.streamerFiltered.planning_image,alt:this.state.streamerFiltered.nickname})))))}}]),a}(r.a.Component));at.contextType=L;var nt=Object(ke.a)((function(e){return{}}))(R(at)),rt=(a(243),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={input:[],konamicode:!1},n.handleKey=n.handleKey.bind(Object(F.a)(n)),n}return Object(s.a)(a,[{key:"arraysMatch",value:function(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}},{key:"handleKey",value:function(e){var t=Object(D.a)(this.state.input);this.state.input.length>=10&&t.shift(),t.push(e.keyCode);var a=this.arraysMatch(t,[38,38,40,40,37,39,37,39,65,66]);this.setState({input:t,konamicode:a})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKey,!1)}},{key:"render",value:function(){return!0===this.state.konamicode&&(this.setState({konamicode:!1}),window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")),r.a.createElement("div",{className:"App"},r.a.createElement(K,null),r.a.createElement(I.d,null,r.a.createElement(I.b,{exact:!0,path:"/",component:te}),r.a.createElement(I.b,{exact:!0,path:"/signin",component:le}),r.a.createElement(I.b,{exact:!0,path:"/signup",component:oe}),r.a.createElement(ue,{exact:!0,path:"/profile",component:me}),r.a.createElement(I.b,{exact:!0,path:"/planning",component:tt}),r.a.createElement(I.b,{exact:!0,path:"/user/edit",component:ye}),r.a.createElement(I.b,{path:"/planning/:id",component:nt}),r.a.createElement(I.b,{path:"/schedule/edit",component:Xe})))}}]),a}(r.a.Component)),lt=Object(I.g)(rt);a(244),a(245);c.a.render(r.a.createElement(i.a,null,r.a.createElement(N,null,r.a.createElement(lt,null))),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.54de6f47.chunk.js.map