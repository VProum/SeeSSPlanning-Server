(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{207:function(e,t,a){e.exports=a(246)},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),i=a(21),o=a(13),s=a(14),u=a(16),m=a(15),d=a(167),h=a.n(d).a.create({baseURL:"https://cssp-twitch.herokuapp.com",withCredentials:!0,headers:{"Client-ID":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://cssp-twitch.herokuapp.com",REACT_APP_TWITCH_CLIENT_ID:"exjjrzsfql2pr10iq2tf78g7cmcey7"}).TWITCH_CLIENT_ID}});function p(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var f=function(e){return h.post("/api/auth/signup",e).then((function(e){return e.data})).catch(p)},g=function(e){return h.post("/api/auth/signin",e).then((function(e){return e.data})).catch(p)},v=function(){return h.get("/auth/isLoggedIn").then((function(e){return e.data})).catch(p)},b=function(){return h.get("/auth/logout").then((function(e){return e.data})).catch(p)},E=function(){return h.get("/user/streamer").then((function(e){return e.data})).catch(p)},y=function(e){return h.get("/user/streamer/search/"+e).then((function(e){return e.data})).catch(p)},w=function(){return h.get("/user/follow").then((function(e){return e.data})).catch(p)},k=function(e){return h.post("/user/streamer/"+e).then((function(e){return e.data})).catch(p)},j=function(e){return h.delete("/user/streamer/"+e).then((function(e){return e.data})).catch(p)},S=function(e){return h.get("/user/planning/"+e).then((function(e){return e.data})).catch(p)},O=function(e){return h.post("/schedule/create",e).then((function(e){return e.data}))},x=function(){return h.get("/schedule/get").then((function(e){return e.data})).catch(p)},C=function(e){return h.delete("/schedule/delete/"+e).then((function(e){return e.data}))},_=r.a.createContext(),L=_,N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return r.a.createElement(_.Provider,{value:e},this.props.children)}}]),a}(n.Component),D=a(22),F=a(289),I=a(292),T=a(294),A=a(296),M=a(297),B=a(295),H=a(168),P=a.n(H),U=function(e){return function(t){return r.a.createElement(_.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},W=Object(F.a)((function(e){return{root:{flexGrow:1,backgroundColor:"red"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),R=U((function(e){var t=e.context,a=e.context.user;var n=W();return r.a.createElement("div",{className:n.root},console.log(a),r.a.createElement(I.a,{position:"sticky",style:{backgroundColor:"#251a36"}},r.a.createElement(T.a,null,r.a.createElement(B.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(i.c,{exact:!0,to:"/"},r.a.createElement(P.a,null))),r.a.createElement(A.a,{variant:"h6",className:n.title},r.a.createElement(i.c,{exact:!0,to:"/planning"},a&&r.a.createElement("span",{style:{marginRight:"3%"}},"See Plannings")),r.a.createElement(i.c,{exact:!0,to:"/schedule/edit"},a&&a[0].isStreamer&&r.a.createElement("span",{style:{marginRight:"3%"}},"Schedule a Stream")),r.a.createElement(i.c,{exact:!0,to:"/user/edit"},a&&r.a.createElement("span",{style:{marginRight:"3%"}},"Add Streamer to Monitor"))),!a&&r.a.createElement(M.a,{color:"inherit",onClick:function(){var e="https://id.twitch.tv/oauth2/authorize?client_id=".concat("exjjrzsfql2pr10iq2tf78g7cmcey7","&redirect_uri=").concat("https://cssp-twitch.herokuapp.com","/auth/twitch/callback&response_type=code&scope=user:read:email");window.location=e}},"Login"),a&&r.a.createElement(M.a,{color:"inherit",onClick:function(){b().then((function(){t.removeUser(),window.location=window.location.href})).catch((function(e){console.log(e)}))}},"Logout"))))})),z=a(31),G=a.n(z),K=a(44),q=a(107);var V=a(306),J=a(176),Y=a(95),$=a(170),Q=a.n($),X=Object(F.a)((function(e){return{button:{margin:e.spacing(1)}}})),Z=function(e){var t=X();function a(t){e.removeStreamer(t.currentTarget.id)}var n={marginLeft:"15px",width:e.isDelete?"80vw":"100vw",minHeight:"100vh"};return r.a.createElement("div",{className:"streamer-list",style:n},e.userList.map((function(n,l){return r.a.createElement(V.a,{key:l,color:"teal"},r.a.createElement(i.b,{to:"/user/planning/".concat(n.twitch_id)},r.a.createElement(J.a,{src:n.avatar,wrapped:!0,ui:!1,alt:"blurry"})),r.a.createElement(V.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(i.b,{to:"/user/planning/".concat(n.twitch_id)},r.a.createElement(V.a.Header,null,n.nickname),r.a.createElement(V.a.Meta,null,n.streamer_type),r.a.createElement(Y.a,{name:"users"}),n.nb_followers," followers"),e.isDelete&&r.a.createElement(M.a,{color:"primary",className:t.button,startIcon:r.a.createElement(Q.a,null),onClick:a,id:l},"remove")))})))},ee=(a(237),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={allStreamers:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({allStreamers:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement("section",{className:"landing"},r.a.createElement("h1",null,r.a.createElement("span",{className:"text-focus-in"},"Made by G@m3rz",r.a.createElement("br",null),"for Streamers")),r.a.createElement("div",{className:"sub-title"},r.a.createElement("p",null,"See Simple Streamer Planning :",r.a.createElement("br",null)," Monitor all your favourite streamer plannings in one page")),r.a.createElement("div",{className:"landing-btn"},r.a.createElement("a",{href:"#showall"},"Check more than ",464*this.state.allStreamers.length," streamers"))),r.a.createElement("section",{className:"poti-card"},r.a.createElement("h2",null,"Improve your Twitch ",r.a.createElement("br",null),"Experience"),r.a.createElement("span",null,"The best way to keep in touch with your streamer friend"),r.a.createElement("div",{className:"toto-card"},r.a.createElement("div",null,r.a.createElement(i.b,{to:"/planning"},r.a.createElement(V.a,{style:{height:"300px",width:"400px"}},r.a.createElement(J.a,{src:"https://cdn-wp.thesportsrush.com/2020/09/LOL-worlds.jpg",wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(V.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(V.a.Header,null,"See All Plannings"),r.a.createElement(V.a.Meta,null,"Never miss a stream again"))))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/schedule/edit"},r.a.createElement(V.a,{style:{height:"300px",width:"400px"}},r.a.createElement(J.a,{src:"https://www.tiltreport.com/media/An_Inside_Look_At_The_Harsh_Reality_Of_Streaming_In_Malaysia.jpg",wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(V.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(V.a.Header,null,"Schedule your Stream"),r.a.createElement(V.a.Meta,null,"Share your planning with everybody"))))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/user/edit"},r.a.createElement(V.a,{style:{height:"300px",width:"400px"}},r.a.createElement(J.a,{src:"https://images.unsplash.com/photo-1538481199705-c710c4e965fc",wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(V.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(V.a.Header,null,"Add Streamer to monitor"),r.a.createElement(V.a.Meta,null,"you can choose to follow whatever you want"))))))),r.a.createElement("section",{id:"showall"},r.a.createElement("div",{style:{display:"grid"}},r.a.createElement("h1",null,"See All the Streamers")),r.a.createElement(Z,{userList:this.state.allStreamers})))}}]),a}(r.a.Component)),te=a(85),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(te.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),g(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"}),r.a.createElement("button",null,"Submit"))}}]),a}(n.Component);ae.contextType=_;var ne=Object(D.g)(ae),re=function(e){return r.a.createElement(ne,null)},le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,n=t.target.name;e.setState(Object(te.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),f(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"}),r.a.createElement("button",null,"Submit"))}}]),a}(n.Component);le.contextType=_;var ce=Object(D.g)(le),ie=function(e){return r.a.createElement(ce,null)},oe=a(177),se=U((function(e){var t=e.component,a=e.context,n=Object(oe.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?r.a.createElement(D.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(D.a,{to:"/signin"})})),ue=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Protected profile"))},me=a(34),de=a(49),he=a(298),pe=(a(238),a(239),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.context.user;return e&&0!==e.length?r.a.createElement("div",{className:"streamer-detail"},r.a.createElement("h1",null,"Welcome ",e[0].nickname,"!"),r.a.createElement("p",null,"Here is all the streamers you are currently monitoring : ")):r.a.createElement(he.a,null)}}]),a}(n.Component));pe.contextType=L;var fe=U(pe),ge=a(310),ve=a(311),be=a(312),Ee=a(304),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={filterValue:"",streamer_list:[]},n.ClickHandler=n.ClickHandler.bind(Object(de.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({streamer_list:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ClickHandler",value:function(){var e=Object(K.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.streamer_list[t.currentTarget.id],0!==this.props.userList.filter((function(e){return e._id===a._id})).length){e.next=5;break}return e.next=4,k(a._id);case 4:this.props.addStreamer(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props;return r.a.createElement("div",{className:t.root},r.a.createElement(ge.a,{columns:1},r.a.createElement(ge.a.Column,null,r.a.createElement(ve.a.Pushable,{as:be.a},r.a.createElement(ve.a,{as:Ee.a,animation:"push",inverted:!0,visible:!0,vertical:!0,width:"thin"},r.a.createElement(Ee.a.Item,null,"Click to Add Streamer"),this.state.streamer_list.map((function(t,a){return r.a.createElement(Ee.a.Item,{key:a,id:a,onClick:e.ClickHandler},r.a.createElement(J.a,{src:t.avatar,alt:"toto",avatar:!0}),r.a.createElement("span",null,t.nickname))}))),r.a.createElement(ve.a.Pusher,{dimmed:this.state.dimmed,style:{backgroundColor:"#442d6b",backgroundImage:'url("https://i.pinimg.com/originals/75/5c/57/755c576d50d64770a04e703402eddfc3.jpg")',backgroundAttachment:"fixed",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},r.a.createElement(fe,null),r.a.createElement(Z,{userList:this.props.userList,removeStreamer:this.props.removeFollow,isDelete:!0}))))))}}]),a}(n.Component),we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={streamer_follow:[]},n.addFollow=n.addFollow.bind(Object(de.a)(n)),n.removeFollow=n.removeFollow.bind(Object(de.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,this.setState({streamer_follow:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(K.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addFollow",value:function(e){var t=Object(me.a)(this.state.streamer_follow);t.push(e),this.setState({streamer_follow:t})}},{key:"removeFollow",value:function(){var e=Object(K.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(me.a)(this.state.streamer_follow),e.next=3,j(a[t]._id);case 3:a.splice(t,1),this.setState({streamer_follow:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{addStreamer:this.addFollow,userList:this.state.streamer_follow,removeFollow:this.removeFollow}))}}]),a}(n.Component),ke=a(58),je=a(5),Se=a(299),Oe=a(175),xe=a(316),Ce=a(30),_e=a(303),Le=a(315),Ne=a(317),De=a(302),Fe=a(305),Ie=a(173),Te=a.n(Ie),Ae=a(172),Me=a.n(Ae),Be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hour_day:null,duration:3,weekday:"",image:"",schedule_obj:{hour_day:null,duration:3,weekday:"",image:""},schedule_list:[],planning_image:""},e.handleChange=function(t){e.setState({lastname:t.target.value})},e.handleDateChange=function(t){e.setState((function(e){return{hour_day:t,schedule_obj:Object(ke.a)(Object(ke.a)({},e.schedule_obj),{},{hour_day:t})}}))},e.valuetext=function(t,a){var n=a;e.setState((function(e){return{duration:n,schedule_obj:Object(ke.a)(Object(ke.a)({},e.schedule_obj),{},{duration:n})}}))},e.handleSubmit=function(t){t.preventDefault(),e.state.schedule_obj.image,e.props.context.user[0].planning_image?console.log(e.props.context.user[0].planning_image,"<<<<<<<<<<<<"):console.log("no picture?");var a=new FormData;for(var n in e.state.schedule_obj)e.state.schedule_obj[n]&&a.append(n,e.state.schedule_obj[n]);O(a).then((function(t){return e.props.addSchedule(t)})).catch((function(e){console.log(e)}))},e.handleSelectChange=function(t){e.setState((function(e){return{weekday:t.target.value,schedule_obj:Object(ke.a)(Object(ke.a)({},e.schedule_obj),{},{weekday:t.target.value})}}))},e.handleImgChange=function(t){var a=t.target.files[0];e.setState((function(e){return{image:a,schedule_obj:Object(ke.a)(Object(ke.a)({},e.schedule_obj),{},{image:a})}}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({schedule_list:this.props.schedule_list})}},{key:"render",value:function(){var e=this.props.classes;this.props.context.user;return r.a.createElement("div",{className:"".concat(e.root),style:{marginTop:"2%",marginLeft:"2%",fontSize:"1.3rem"}},"Add a stream in schedule",r.a.createElement("br",null),r.a.createElement("form",{className:e.root,onSubmit:this.handleSubmit},r.a.createElement(Ce.a,{utils:Oe.a},r.a.createElement(Se.a,{container:!0,justify:"flex-start"},r.a.createElement(_e.a,{i:"hour_day",name:"hour_day",label:"Start Hour",value:this.state.hour_day,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change time"}}))),r.a.createElement("br",null),r.a.createElement(A.a,{id:"discrete-slider-always",gutterBottom:!0},"Duration"),r.a.createElement(xe.a,{id:"duration",name:"duration","aria-labelledby":"discrete-slider-always",step:1,min:1,max:12,marks:[{value:1,label:"1h"},{value:2,label:"2h"},{value:3,label:"3h"},{value:4,label:"4h"},{value:5,label:"5h"},{value:6,label:"6h"},{value:7,label:"7h"},{value:8,label:"8h"},{value:9,label:"9h"},{value:10,label:"10h"},{value:11,label:"11h"},{value:12,label:"12h"}],valueLabelDisplay:"on",value:this.state.duration,onChange:this.valuetext,style:{width:"90%"}}),r.a.createElement("br",null),r.a.createElement(De.a,{className:e.formControl},r.a.createElement(Le.a,{id:"weekday"},"Weekday"),r.a.createElement(Fe.a,{labelId:"weekday",id:"weekday",name:"weekday",value:this.state.weekday,onChange:this.handleSelectChange},r.a.createElement(Ne.a,{value:"Monday"},"Monday"),r.a.createElement(Ne.a,{value:"Tuesday"},"Tuesday"),r.a.createElement(Ne.a,{value:"Wednesday"},"Wednesday"),r.a.createElement(Ne.a,{value:"Thursday"},"Thursday"),r.a.createElement(Ne.a,{value:"Friday"},"Friday"),r.a.createElement(Ne.a,{value:"Saturday"},"Saturday"),r.a.createElement(Ne.a,{value:"Sunday"},"Sunday")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",{style:{marginTop:"2%",marginBottom:"1%",fontSize:"1.3rem"}}," Add your own weekly planning image  "),r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",name:"planning_image",onChange:this.handleImgChange,style:{display:"none"}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(M.a,{variant:"contained",color:"default",component:"span",className:e.button,startIcon:r.a.createElement(Me.a,null)},"Upload"),this.state.image&&r.a.createElement("span",{className:"edit-schedule-image-span"},"Uploaded file: ",this.state.image.name)))),r.a.createElement("br",null),r.a.createElement("div",{className:"edit-schedule-btn-save"},r.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",className:e.button,startIcon:r.a.createElement(Te.a,null),style:{marginTop:"1%"},type:"submit"},"Save"))))}}]),a}(r.a.Component),He=Object(je.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1),width:"75%"},"& .MuiFormControl-root":{width:"75%"}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}))(U(Be)),Pe=(a(240),a(174)),Ue=a.n(Pe),We=a(320),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).state={streamerFiltered:[]},n.clickHandler=function(e){y(e).then((function(e){var t=e;n.setState({streamerFiltered:t})}))},n.handleChange=function(e){var t=e.target.value;clearTimeout(n.typing),n.typing=setTimeout((function(){return n.clickHandler(t)}),500)},n.handleSearchStreamer=function(e){n.props.filterSearch(e),n.setState({test:!1})};return n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.streamerFiltered.length,r.a.createElement("div",null,r.a.createElement("div",{className:t.margin},r.a.createElement(Se.a,{container:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(Se.a,{item:!0},r.a.createElement(Ue.a,null)),r.a.createElement(Se.a,{item:!0},r.a.createElement(We.a,{id:"input-with-icon-grid",label:"Find a streamer",style:{width:"33vw"},onChange:this.handleChange})))),this.state.streamerFiltered.length>0&&this.state.test&&r.a.createElement("ul",{id:"searchUl"},this.state.streamerFiltered.map((function(t,a){return r.a.createElement("li",{key:a,onClick:function(){return e.handleSearchStreamer(t)}},t.nickname)}))))}}]),a}(n.Component),ze=Object(je.a)((function(e){return{margin:{margin:e.spacing(1)}}}))(Re),Ge=a(314),Ke=a(313),qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={streamerFiltered:[]},e.handleDelete=function(){console.info("You clicked the delete icon.")},e.handleClick=function(){console.info("You clicked the Chip.")},e.handleSearch=function(t){console.log(t),e.setState({streamerFiltered:t})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.streamerFiltered.length>0&&console.log(this.state," state in formdisplayStreamer"),r.a.createElement("div",{className:e.root,style:{display:"flex",flexDirection:"column"}},r.a.createElement("h1",null,"youhou"),r.a.createElement(ze,{filterSearch:this.handleSearch}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",null,"Les personnes suivantes peuvent modifier le planning")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{avatar:r.a.createElement(Ge.a,{alt:this.state.streamerFiltered.nickname,src:this.state.streamerFiltered.avatar}),label:this.state.streamerFiltered.nickname,onDelete:this.handleDelete})),r.a.createElement(Ke.a,{avatar:r.a.createElement(Ge.a,{alt:"Natacha",src:"/static/images/avatar/1.jpg"}),label:"Deletable",onDelete:this.handleDelete})))}}]),a}(n.Component),Ve=(Object(je.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}}))(qe),a(241),a(308));function Je(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}var Ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={schedule_list:e.props.schedule_list},e.handleScheduleFormat=function(e){var t={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]};function a(e,t){var a=e.hour_day,n=t.hour_day,r=0;return a>n?r=1:a<n&&(r=-1),r}for(var n in e.map((function(e){for(var a in t)a===e.weekday&&t[a].push(e)})),t)t[n].sort(a);return t},e.deleteElement=function(t){C(t).then((function(t){return e.props.deleteSchedule(t)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({schedule_list:this.props.schedule_list})}},{key:"render",value:function(){var e=this,t=this.handleScheduleFormat(this.props.schedule_list);return this.props.context.user?r.a.createElement("div",{style:{backgroundColor:"#442d6b",color:"whitesmoke",display:"flex",justifyContent:"center"}},r.a.createElement("ul",{className:"form-display-card"},Object.entries(t).map((function(t,a){var n=Object(q.a)(t,2),l=n[0],c=n[1];return r.a.createElement("li",{key:a,className:"form-display-schedule-line-row"},r.a.createElement("div",{className:"form-display-schedule-weekday"},r.a.createElement("strong",null,l)),c.map((function(t,a){return r.a.createElement("div",{key:a,className:"fliptheCard"},r.a.createElement(V.a.Group,{className:"main-card"},r.a.createElement(V.a,{style:{backgroundColor:t.colorBackground?t.colorBackground:"#342450",display:"flex",flexDirection:"column",marginRight:"20%",width:"150px"}},r.a.createElement(i.b,{to:"/user/planning/".concat(t.streamer_id)},r.a.createElement(V.a.Content,{className:"form-display-schedule-content"},r.a.createElement(J.a,{floated:"right",size:"mini",src:t.avatar,alt:"avatar"}),r.a.createElement(V.a.Header,{style:{color:(n=Je(t.colorBackground),(.299*n.r+.587*n.g+.114*n.b)/255>.5?"black":"white")}},t.hour_day,r.a.createElement("br",null),t.calcDuration),r.a.createElement(V.a.Meta,null),r.a.createElement(V.a.Description,null))),e.props.isdelete&&r.a.createElement(V.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(Ve.a,{basic:!0,color:"blue"},r.a.createElement("div",{className:"form-display-schedule-container",onClick:function(){return e.deleteElement(t._id)}},"Delete")))))));var n})))})))):r.a.createElement(he.a,null)}}]),a}(r.a.Component),$e=Object(je.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",color:"whitesmoke","& > *":{margin:e.spacing(.5),color:"whitesmoke"}}}}))(U(Ye)),Qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hour_day:null,duration:3,weekday:"",nickname:"",schedule_list:[]},e.handleAdd=function(t){e.setState({schedule_list:[].concat(Object(me.a)(e.state.schedule_list),[t])})},e.handleDelete=function(t){e.setState({schedule_list:t})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;x().then((function(t){e.setState({schedule_list:t})}))}},{key:"render",value:function(){return this.props.context.user?r.a.createElement("div",null,r.a.createElement("h1",{style:{marginLeft:"2%",display:"flex",justifyContent:"center"}},"Schedule your stream"),r.a.createElement("div",{className:"edit-schedule-container"},r.a.createElement(He,{addSchedule:this.handleAdd}),r.a.createElement("div",{className:"display-schedule-container"},r.a.createElement($e,{deleteSchedule:this.handleDelete,isdelete:!0,schedule_list:this.state.schedule_list})))):r.a.createElement(he.a,null)}}]),a}(n.Component);Qe.contextType=L;var Xe=U(Qe);function Ze(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}var et=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).state={followingStreamers:[],filterStreamer:[],scheduleList:[],visible:!1,dimmed:!1},n.handleNothing=function(){console.log("pouet")},n.handleDelete=n.handleDelete.bind(Object(de.a)(n)),n.changeColor=n.changeColor.bind(Object(de.a)(n));return n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(K.a)(G.a.mark((function e(){var t,a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,a=Object(me.a)(t),this.setState({followingStreamers:t,filterStreamer:a}),n=[],Object(me.a)(a).map((function(e){e.planningList.length>0&&e.planningList.map((function(e){e.colorBackground="#342450",n.push(e)}))})),this.setState({scheduleList:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(e){var t=Object(me.a)(this.state.filterStreamer);t.splice(e.currentTarget.parentElement.id,1),this.setState({filterStreamer:t});var a=[];Object(me.a)(t).map((function(e){e.planningList.length>0&&e.planningList.map((function(e){e.colorBackground="#342450",a.push(e)}))})),this.setState({scheduleList:a})}},{key:"changeColor",value:function(e,t){var a=this,n=e.currentTarget.value,r=[];clearTimeout(this.changingColor),this.changingColor=setTimeout((function(){var e=Object(me.a)(a.state.filterStreamer);e[t].colorBackground=n,a.setState({filterStreamer:e}),e.map((function(a,l){a.planningList.length>0&&a.planningList.map((function(a,l){console.log(e[t].nickname,a.streamer_name[0],e[t].nickname===a.streamer_name[0]),e[t].nickname===a.streamer_name[0]&&(a.colorBackground=n),r.push(a)}))})),a.setState({scheduleList:r})}),200)}},{key:"render",value:function(){var e=this;this.props.context.user;return r.a.createElement(ge.a,{columns:1},r.a.createElement(ge.a.Column,{style:{display:"flex",backgroundColor:"#8877a6"}},r.a.createElement("div",{style:{padding:"10px 30px",margin:"auto 0",width:"170px",height:"40px",color:"whitesmoke",fontWeight:"bolder",border:"1px solid whitesmoke",borderRadius:"50px"},onClick:function(){e.setState({dimmed:!e.state.dimmed,visible:!e.state.visible})}},r.a.createElement(Y.a,{name:"add user"}),r.a.createElement("span",null,"Add Streamer")),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",backgroundColor:"#8877a6"}},this.state.filterStreamer.map((function(t,a){return r.a.createElement("div",{key:a,style:{display:"flex",flexDirection:"column"}},r.a.createElement(Ke.a,{variant:"outlined",avatar:r.a.createElement(Ge.a,{alt:t.nickname,src:t.avatar}),label:t.nickname,onDelete:e.handleDelete,id:a,onClick:function(){return document.getElementById(t.nickname).click()},style:{backgroundColor:t.colorBackground?t.colorBackground:"#442d6b",color:(n=Ze(t.colorBackground),(.299*n.r+.587*n.g+.114*n.b)/255>.5?"black":"white")}}),r.a.createElement("input",{type:"color",id:t.nickname,onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return e.changeColor(t,n)},hidden:!0}));var n})))),r.a.createElement(ge.a.Column,{style:{padding:"0px"}},r.a.createElement(ve.a.Pushable,{as:be.a,style:{height:"100vh"}},r.a.createElement(ve.a,{as:Ee.a,animation:"push",inverted:!0,onHide:function(){e.setState({dimmed:!1,visible:!1})},vertical:!0,visible:this.state.visible,width:""},r.a.createElement(i.b,{to:"/user/edit"},r.a.createElement(Ee.a.Item,null,"Click to Add Streamer's Schedule")),this.state.followingStreamers.map((function(t,a){return r.a.createElement(Ee.a.Item,{key:a,index:a,onClick:function(t,a){var n=Object(me.a)(e.state.filterStreamer);n.push(e.state.followingStreamers[a.index]),n=Object(me.a)(new Set(n)),e.setState({filterStreamer:n});var r=[];Object(me.a)(n).map((function(e){e.planningList.length>0&&e.planningList.map((function(e){e.colorBackground="#342450",r.push(e)}))})),e.setState({scheduleList:r})}},r.a.createElement(J.a,{src:t.avatar,alt:"toto",avatar:!0}),r.a.createElement("span",null,t.nickname))}))),r.a.createElement(ve.a.Pusher,{dimmed:this.state.dimmed,style:{backgroundColor:"#442d6b"}},r.a.createElement($e,{deleteSchedule:this.handleNothing,schedule_list:this.state.scheduleList})))))}}]),a}(n.Component),tt=Object(je.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5),"& .MuiChip-deleteIcon":{backgroundColor:"primary"}}}}}))(U(et)),at=(a(242),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={streamerFiltered:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;S(this.props.match.params.id).then((function(t){e.setState({streamerFiltered:t[0]})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"one-schedule-global"},r.a.createElement("h1",{style:{fontSize:"3em",textAlign:"center",color:"whitesmoke",marginBottom:"2%",textShadow:"1px 1px 2px black, 0 0 25px white"}},this.state.streamerFiltered.nickname,"'s schedule "),r.a.createElement("div",{className:"one-schedule-main-container"},r.a.createElement("div",{className:"one-schedule-user-card"},r.a.createElement(i.b,{to:{pathname:"https://www.twitch.tv/".concat(this.state.streamerFiltered.nickname)},target:"_blank"},r.a.createElement(V.a,{color:"teal",style:{height:"250px",width:"175px"}},r.a.createElement(J.a,{src:this.state.streamerFiltered.avatar,wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(V.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(V.a.Header,null,this.state.streamerFiltered.nickname),r.a.createElement(V.a.Meta,null,this.state.streamerFiltered.streamer_type),r.a.createElement(Y.a,{name:"users"}),this.state.streamerFiltered.nb_followers)))),r.a.createElement("div",{className:"one-schedule-wall-card"},this.state.streamerFiltered&&r.a.createElement("div",{className:"one-schedule-img-container"},r.a.createElement("img",{src:this.state.streamerFiltered.planning_image,alt:this.state.streamerFiltered.nickname})))))}}]),a}(r.a.Component));at.contextType=L;var nt=Object(je.a)((function(e){return{}}))(U(at)),rt=(a(243),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return console.log("this is V1.0"),r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(D.d,null,r.a.createElement(D.b,{exact:!0,path:"/",component:ee}),r.a.createElement(D.b,{exact:!0,path:"/signin",component:re}),r.a.createElement(D.b,{exact:!0,path:"/signup",component:ie}),r.a.createElement(se,{exact:!0,path:"/profile",component:ue}),r.a.createElement(D.b,{exact:!0,path:"/planning",component:tt}),r.a.createElement(D.b,{exact:!0,path:"/user/edit",component:we}),r.a.createElement(D.b,{path:"/user/planning/:id",component:nt}),r.a.createElement(D.b,{path:"/schedule/edit",component:Xe})))}}]),a}(r.a.Component)),lt=Object(D.g)(rt);a(244),a(245);c.a.render(r.a.createElement(i.a,null,r.a.createElement(N,null,r.a.createElement(lt,null))),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.3d8bea17.chunk.js.map