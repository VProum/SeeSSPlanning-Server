(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{211:function(e,t,a){e.exports=a(248)},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),i=a(32),o=a(13),s=a(14),u=a(16),m=a(15),h=a(169),d=a.n(h).a.create({baseURL:"https://cssp-twitch.herokuapp.com",withCredentials:!0,headers:{"Client-ID":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://cssp-twitch.herokuapp.com",REACT_APP_TWITCH_CLIENT_ID:"exjjrzsfql2pr10iq2tf78g7cmcey7"}).TWITCH_CLIENT_ID}});function p(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var f=function(e){return d.post("/api/auth/signup",e).then((function(e){return e.data})).catch(p)},v=function(e){return d.post("/api/auth/signin",e).then((function(e){return e.data})).catch(p)},g=function(){return d.get("/auth/isLoggedIn").then((function(e){return e.data})).catch(p)},b=function(){return d.get("/auth/logout").then((function(e){return e.data})).catch(p)},E=function(){return d.get("/user/streamer").then((function(e){return e.data})).catch(p)},y=function(e){return d.get("/user/streamer/search/"+e).then((function(e){return e.data})).catch(p)},j=function(){return d.get("/user/follow").then((function(e){return e.data})).catch(p)},w=function(e){return d.post("/user/streamer/"+e).then((function(e){return e.data})).catch(p)},k=function(e){return d.delete("/user/streamer/"+e).then((function(e){return e.data})).catch(p)},O=function(e){return d.get("/user/planning/"+e).then((function(e){return e.data})).catch(p)},S=function(e){return console.log(e),d.post("/schedule/create",e).then((function(e){return e.data}))},C=function(){return d.get("/schedule/get").then((function(e){return e.data})).catch(p)},_=function(e){return d.delete("/schedule/delete/"+e).then((function(e){return e.data}))},x=r.a.createContext(),D=x,F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;g().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return r.a.createElement(x.Provider,{value:e},this.props.children)}}]),a}(n.Component),T=a(21),N=a(290),L=a(293),I=a(295),A=a(297),P=a(298),U=a(296),M=a(170),H=a.n(M),W=function(e){return function(t){return r.a.createElement(x.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},B=Object(N.a)((function(e){return{root:{flexGrow:1,backgroundColor:"red"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),R=W((function(e){var t=e.context,a=e.context.user;var n=B();return r.a.createElement("div",{className:n.root},console.log(a),r.a.createElement(L.a,{position:"sticky",style:{backgroundColor:"#251a36"}},r.a.createElement(I.a,null,r.a.createElement(U.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(i.c,{exact:!0,to:"/"},r.a.createElement(H.a,null))),r.a.createElement(A.a,{variant:"h7",className:n.title},r.a.createElement(i.c,{exact:!0,to:"/planning"},a&&r.a.createElement("span",{style:{marginRight:"3%"}},"Planning")),r.a.createElement(i.c,{exact:!0,to:"/schedule/edit"},a&&a[0].isStreamer&&r.a.createElement("span",{style:{marginRight:"3%"}},"Schedule")),r.a.createElement(i.c,{exact:!0,to:"/user/edit"},a&&r.a.createElement("span",{style:{marginRight:"3%"}},a[0].nickname)),r.a.createElement(i.c,{exact:!0,to:"/user/edit"},"Contact")),!a&&r.a.createElement(P.a,{color:"inherit",onClick:function(){var e="https://id.twitch.tv/oauth2/authorize?client_id=".concat("exjjrzsfql2pr10iq2tf78g7cmcey7","&redirect_uri=").concat("https://cssp-twitch.herokuapp.com","/auth/twitch/callback&response_type=code&scope=user:read:email");window.location=e}},"Login"),a&&r.a.createElement(P.a,{color:"inherit",onClick:function(){b().then((function(){t.removeUser(),window.location=window.location.href})).catch((function(e){console.log(e)}))}},"Logout"))))})),z=a(30),K=a.n(z),q=a(46),G=a(108);var V=a(299),J=a(308),Y=a(177),Q=a(95),X=Object(N.a)((function(e){return{button:{margin:e.spacing(1)}}})),Z=function(e){var t=X();function a(t){e.removeStreamer(t.currentTarget.id)}var n={marginLeft:e.isDelete?"10vw":"0",width:e.isDelete?"90vw":"100vw",height:"98vh"};return r.a.createElement("div",{className:"streamer-list",style:n},e.userList.map((function(n,l){return r.a.createElement(J.a,{key:l,color:"teal",style:{height:"250px",width:"175px"}},r.a.createElement(Y.a,{src:n.avatar,wrapped:!0,ui:!1,alt:"blurry"}),r.a.createElement(J.a.Content,{style:{background:"#e6ddf0"}},r.a.createElement(J.a.Header,null,n.nickname),r.a.createElement(J.a.Meta,null,n.streamer_type),r.a.createElement(Q.a,{name:"users"}),n.nb_followers," followers",e.isDelete&&r.a.createElement(P.a,{color:"primary",className:t.button,startIcon:r.a.createElement(V.a,{className:"fa fa-plus-circle",color:"primary"}),onClick:a,id:l},"remove")))})))},$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={allStreamers:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({allStreamers:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Z,{userList:this.state.allStreamers}))}}]),a}(r.a.Component),ee=a(85),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(ee.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),v(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"}),r.a.createElement("button",null,"Submit"))}}]),a}(n.Component);te.contextType=x;var ae=Object(T.g)(te),ne=function(e){return r.a.createElement(ae,null)},re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,n=t.target.name;e.setState(Object(ee.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),f(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password"}),r.a.createElement("button",null,"Submit"))}}]),a}(n.Component);re.contextType=x;var le=Object(T.g)(re),ce=function(e){return r.a.createElement(le,null)},ie=a(178),oe=W((function(e){var t=e.component,a=e.context,n=Object(ie.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?r.a.createElement(T.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(T.a,{to:"/signin"})})),se=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Protected profile"))},ue=a(42),me=a(45),he=a(5),de=a(172),pe=a.n(de),fe=a(322),ve=a(300),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).state={streamerFiltered:[]},n.clickHandler=function(e){y(e).then((function(e){var t=e;n.setState({streamerFiltered:t})}))},n.handleChange=function(e){var t=e.target.value;clearTimeout(n.typing),n.typing=setTimeout((function(){return n.clickHandler(t)}),500)},n.handleSearchStreamer=function(e){n.props.filterSearch(e),n.setState({test:!1})};return n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.streamerFiltered.length,r.a.createElement("div",null,r.a.createElement("div",{className:t.margin},r.a.createElement(ve.a,{container:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(ve.a,{item:!0},r.a.createElement(pe.a,null)),r.a.createElement(ve.a,{item:!0},r.a.createElement(fe.a,{id:"input-with-icon-grid",label:"Find a streamer",style:{width:"33vw"},onChange:this.handleChange})))),this.state.streamerFiltered.length>0&&this.state.test&&r.a.createElement("ul",{id:"searchUl"},this.state.streamerFiltered.map((function(t,a){return r.a.createElement("li",{key:a,onClick:function(){return e.handleSearchStreamer(t)}},t.nickname)}))))}}]),a}(n.Component),be=Object(he.a)((function(e){return{margin:{margin:e.spacing(1)}}}))(ge),Ee=a(313),ye=a(314),je=a(306),we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={filterValue:"",streamer_list:[]},n.ClickHandler=n.ClickHandler.bind(Object(me.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,this.setState({streamer_list:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ClickHandler",value:function(){var e=Object(q.a)(K.a.mark((function e(t){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.streamer_list[t.currentTarget.id],0!==this.props.userList.filter((function(e){return e._id===a._id})).length){e.next=5;break}return e.next=4,w(a._id);case 4:this.props.addStreamer(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props;return r.a.createElement("div",{className:t.root},r.a.createElement(Ee.a,{columns:1},r.a.createElement(Ee.a.Column,null,r.a.createElement(ye.a,{as:je.a,animation:"push",inverted:!0,visible:!0,vertical:!0,width:"thin"},this.state.streamer_list.map((function(t,a){return r.a.createElement(je.a.Item,{key:a,id:a,onClick:e.ClickHandler},r.a.createElement(Y.a,{src:t.avatar,alt:"toto",avatar:!0}),r.a.createElement("span",null,t.nickname))}))))))}}]),a}(n.Component),ke=a(304),Oe=(a(241),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.context.user;return e&&0!==e.length?r.a.createElement("div",{className:"horizontal"},r.a.createElement("h1",null,"Welcome ",e[0].nickname,"!")):r.a.createElement(ke.a,null)}}]),a}(n.Component));Oe.contextType=D;var Se=W(Oe),Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={streamer_follow:[]},n.addFollow=n.addFollow.bind(Object(me.a)(n)),n.removeFollow=n.removeFollow.bind(Object(me.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(q.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,this.setState({streamer_follow:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(q.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addFollow",value:function(e){var t=Object(ue.a)(this.state.streamer_follow);t.push(e),this.setState({streamer_follow:t})}},{key:"removeFollow",value:function(){var e=Object(q.a)(K.a.mark((function e(t){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ue.a)(this.state.streamer_follow),e.next=3,k(a[t]._id);case 3:a.splice(t,1),this.setState({streamer_follow:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"horizontal"},r.a.createElement(we,{addStreamer:this.addFollow,userList:this.state.streamer_follow}),r.a.createElement("div",null,r.a.createElement(Se,null),r.a.createElement(Z,{userList:this.state.streamer_follow,removeStreamer:this.removeFollow,isDelete:!0})))}}]),a}(n.Component),_e=a(58),xe=a(176),De=a(319),Fe=a(29),Te=a(305),Ne=a(318),Le=a(320),Ie=a(303),Ae=a(307),Pe=a(175),Ue=a.n(Pe),Me=a(174),He=a.n(Me),We=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hour_day:null,duration:3,weekday:"",image:"",schedule_obj:{hour_day:null,duration:3,weekday:"",image:""},schedule_list:[],planning_image:""},e.handleChange=function(t){e.setState({lastname:t.target.value})},e.handleDateChange=function(t){e.setState((function(e){return{hour_day:t,schedule_obj:Object(_e.a)(Object(_e.a)({},e.schedule_obj),{},{hour_day:t})}}))},e.valuetext=function(t,a){var n=a;e.setState((function(e){return{duration:n,schedule_obj:Object(_e.a)(Object(_e.a)({},e.schedule_obj),{},{duration:n})}}))},e.handleSubmit=function(t){t.preventDefault(),e.state.schedule_obj.image,e.props.context.user[0].planning_image?console.log(e.props.context.user[0].planning_image,"<<<<<<<<<<<<"):console.log("no picture?");var a=new FormData;for(var n in e.state.schedule_obj)e.state.schedule_obj[n]&&a.append(n,e.state.schedule_obj[n]);S(a).then((function(t){return e.props.addSchedule(t)})).catch((function(e){console.log(e)}))},e.handleSelectChange=function(t){e.setState((function(e){return{weekday:t.target.value,schedule_obj:Object(_e.a)(Object(_e.a)({},e.schedule_obj),{},{weekday:t.target.value})}}))},e.handleImgChange=function(t){var a=t.target.files[0];e.setState((function(e){return{image:a,schedule_obj:Object(_e.a)(Object(_e.a)({},e.schedule_obj),{},{image:a})}}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({schedule_list:this.props.schedule_list})}},{key:"render",value:function(){var e=this.props.classes;this.props.context.user;return r.a.createElement("div",{className:"".concat(e.root," margin-left")},"Add a stream in schedule",r.a.createElement("br",null),r.a.createElement("form",{className:e.root,onSubmit:this.handleSubmit},r.a.createElement(Fe.a,{utils:xe.a},r.a.createElement(ve.a,{container:!0,justify:"flex-start"},r.a.createElement(Te.a,{i:"hour_day",name:"hour_day",label:"Start Hour",value:this.state.hour_day,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change time"}}))),r.a.createElement("br",null),r.a.createElement(A.a,{id:"discrete-slider-always",gutterBottom:!0},"Duration"),r.a.createElement(De.a,{id:"duration",name:"duration","aria-labelledby":"discrete-slider-always",step:1,min:1,max:12,marks:[{value:1,label:"1h"},{value:2,label:"2h"},{value:3,label:"3h"},{value:4,label:"4h"},{value:5,label:"5h"},{value:6,label:"6h"},{value:7,label:"7h"},{value:8,label:"8h"},{value:9,label:"9h"},{value:10,label:"10h"},{value:11,label:"11h"},{value:12,label:"12h"}],valueLabelDisplay:"on",value:this.state.duration,onChange:this.valuetext}),r.a.createElement("br",null),r.a.createElement(Ie.a,{className:e.formControl},r.a.createElement(Ne.a,{id:"weekday"},"Weekdays"),r.a.createElement(Ae.a,{labelId:"weekday",id:"weekday",name:"weekday",value:this.state.weekday,onChange:this.handleSelectChange},r.a.createElement(Le.a,{value:"Monday"},"Monday"),r.a.createElement(Le.a,{value:"Tuesday"},"Tuesday"),r.a.createElement(Le.a,{value:"Wednesday"},"Wednesday"),r.a.createElement(Le.a,{value:"Thursday"},"Thursday"),r.a.createElement(Le.a,{value:"Friday"},"Friday"),r.a.createElement(Le.a,{value:"Saturday"},"Saturday"),r.a.createElement(Le.a,{value:"Sunday"},"Sunday")),r.a.createElement("br",null),r.a.createElement("p",{style:{marginTop:"2%",marginBottom:"2%"}}," Upload your planning "),r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",name:"planning_image",onChange:this.handleImgChange}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(P.a,{variant:"contained",color:"primary",component:"span",className:e.button,startIcon:r.a.createElement(He.a,null)},"Upload"))),r.a.createElement("br",null),r.a.createElement(P.a,{variant:"contained",color:"primary",size:"large",className:e.button,startIcon:r.a.createElement(Ue.a,null),style:{marginTop:"5%"},type:"submit"},"Save")))}}]),a}(r.a.Component),Be=Object(he.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1),width:"75%"},"& .MuiFormControl-root":{width:"75%"}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}))(W(We)),Re=(a(242),a(317)),ze=a(316),Ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={streamerFiltered:[]},e.handleDelete=function(){console.info("You clicked the delete icon.")},e.handleClick=function(){console.info("You clicked the Chip.")},e.handleSearch=function(t){console.log(t),e.setState({streamerFiltered:t})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.state.streamerFiltered.length>0&&console.log(this.state," state in formdisplayStreamer"),r.a.createElement("div",{className:e.root,style:{display:"flex",flexDirection:"column"}},r.a.createElement("h1",null,"youhou"),r.a.createElement(be,{filterSearch:this.handleSearch}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",null,"Les personnes suivantes peuvent modifier le planning")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{avatar:r.a.createElement(Re.a,{alt:this.state.streamerFiltered.nickname,src:this.state.streamerFiltered.avatar}),label:this.state.streamerFiltered.nickname,onDelete:this.handleDelete})),r.a.createElement(ze.a,{avatar:r.a.createElement(Re.a,{alt:"Natacha",src:"/static/images/avatar/1.jpg"}),label:"Deletable",onDelete:this.handleDelete})))}}]),a}(n.Component),qe=(Object(he.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}}))(Ke),a(243),a(311)),Ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={schedule_list:e.props.schedule_list},e.handleScheduleFormat=function(e){var t={Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]};function a(e,t){var a=e.hour_day,n=t.hour_day,r=0;return a>n?r=1:a<n&&(r=-1),r}for(var n in e.map((function(e){for(var a in t)a===e.weekday&&t[a].push(e)})),t)t[n].sort(a);return t},e.deleteElement=function(t){_(t).then((function(t){return e.props.deleteSchedule(t)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({schedule_list:this.props.schedule_list})}},{key:"render",value:function(){var e=this,t=this.handleScheduleFormat(this.props.schedule_list);if(!this.props.context.user)return r.a.createElement(ke.a,null);var a={backgroundColor:this.props.colorBackground?this.props.colorBackground:"#342450",color:"white",display:"flex",flexDirection:"column",marginRight:"20%"};return r.a.createElement("div",{style:{marginTop:"7%",backgroundColor:"#17111e",color:"whitesmoke"}},r.a.createElement("h1",null,"Planning week"),r.a.createElement("ul",{className:"pouet"},Object.entries(t).map((function(t,n){var l=Object(G.a)(t,2),c=l[0],o=l[1];return r.a.createElement("li",{key:n,className:"form-display-schedule-line-row"},r.a.createElement("div",{style:{width:"12vw"}}," ",r.a.createElement("strong",null,c)," "),o.map((function(t,n){return r.a.createElement("div",{key:n,className:"fliptheCard"},r.a.createElement(J.a.Group,{className:"main-card"},r.a.createElement(J.a,{style:a},r.a.createElement(i.b,{to:"/user/planning/".concat(t.streamer_id)},r.a.createElement(J.a.Content,null,r.a.createElement(Y.a,{floated:"right",size:"mini",src:t.avatar,alt:"pouet"}),r.a.createElement(J.a.Header,{style:{color:"whitesmoke"}},t.hour_day,r.a.createElement("br",null),t.hour_day),r.a.createElement(J.a.Meta,null),r.a.createElement(J.a.Description,null))),e.props.isdelete&&r.a.createElement(J.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(qe.a,{basic:!0,color:"blue"},r.a.createElement("div",{className:"form-display-schedule-container",onClick:function(){return e.deleteElement(t._id)}},"Delete")))))))})))}))))}}]),a}(r.a.Component),Ve=Object(he.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",color:"whitesmoke","& > *":{margin:e.spacing(.5),color:"whitesmoke"}}}}))(W(Ge)),Je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hour_day:null,duration:3,weekday:"",nickname:"",schedule_list:[]},e.handleAdd=function(t){e.setState({schedule_list:[].concat(Object(ue.a)(e.state.schedule_list),[t])})},e.handleDelete=function(t){e.setState({schedule_list:t})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({schedule_list:t})}))}},{key:"render",value:function(){return this.props.context.user?r.a.createElement("div",null,r.a.createElement("h1",null,"Schedule your stream"),r.a.createElement("div",{className:"edit-schedule-container"},r.a.createElement(Be,{addSchedule:this.handleAdd}),r.a.createElement("div",{style:{width:"100vW"}},r.a.createElement(Ve,{deleteSchedule:this.handleDelete,isdelete:!0,schedule_list:this.state.schedule_list})))):r.a.createElement(ke.a,null)}}]),a}(n.Component);Je.contextType=D;var Ye=W(Je),Qe=a(309),Xe=a(315),Ze=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).state={followingStreamers:[],filterStreamer:[],visible:!1,dimmed:!1},n.handleNothing=function(){console.log("pouet")},n.handlefFormatSchedule=n.handlefFormatSchedule.bind(Object(me.a)(n)),n.handleDelete=n.handleDelete.bind(Object(me.a)(n)),n.changeColor=n.changeColor.bind(Object(me.a)(n));return n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(q.a)(K.a.mark((function e(){var t,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,a=Object(ue.a)(t),this.setState({followingStreamers:t,filterStreamer:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(e){var t=Object(ue.a)(this.state.filterStreamer);t.splice(e.currentTarget.parentElement.id,1),this.setState({filterStreamer:t})}},{key:"handlefFormatSchedule",value:function(){var e=[];return Object(ue.a)(this.state.filterStreamer).map((function(t,a){for(var n in t)if("planningList"===n&&t[n].length>0)for(var r in t[n])e.push(t[n][r])})),e}},{key:"changeColor",value:function(e,t){var a=this,n=e.currentTarget.value;clearTimeout(this.changingColor),this.changingColor=setTimeout((function(){var e=Object(ue.a)(a.state.filterStreamer);e[t].colorBackground=n,a.setState({filterStreamer:e})}),200)}},{key:"render",value:function(){var e=this;this.handlefFormatSchedule();this.props.context.user;return r.a.createElement(Ee.a,{columns:1},r.a.createElement(Ee.a.Column,{style:{display:"flex"}},r.a.createElement(Qe.a,{toggle:!0,checked:this.state.visible,label:{children:r.a.createElement("code",null,"Add Plannings")},onChange:function(t,a){e.setState({dimmed:a.checked,visible:a.checked})}}),this.state.filterStreamer.map((function(t,a){return r.a.createElement("div",{key:a,style:{display:"flex",flexDirection:"column"}},r.a.createElement(ze.a,{avatar:r.a.createElement(Re.a,{alt:t.nickname,src:t.avatar}),label:t.nickname,onDelete:e.handleDelete,id:a}),r.a.createElement("input",{type:"color",onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return e.changeColor(t,n)}}))}))),r.a.createElement(Ee.a.Column,null,r.a.createElement(ye.a.Pushable,{as:Xe.a},r.a.createElement(ye.a,{as:je.a,animation:"push",inverted:!0,onHide:function(){e.setState({dimmed:!1,visible:!1})},vertical:!0,visible:this.state.visible,width:"thin"},this.state.followingStreamers.map((function(t,a){return r.a.createElement(je.a.Item,{key:a,index:a,onClick:function(t,a){var n=Object(ue.a)(e.state.filterStreamer);n.push(e.state.followingStreamers[a.index]),n=Object(ue.a)(new Set(n)),e.setState({filterStreamer:n})}},r.a.createElement(Y.a,{src:t.avatar,alt:"toto",avatar:!0}),r.a.createElement("span",null,t.nickname))}))),r.a.createElement(ye.a.Pusher,{dimmed:this.state.dimmed,style:{backgroundColor:"#442d6b"}},r.a.createElement(Ve,{deleteSchedule:this.handleNothing,schedule_list:this.handlefFormatSchedule()})))))}}]),a}(n.Component),$e=Object(he.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}}))(W(Ze)),et=(a(244),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={streamerFiltered:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;O(this.props.match.params.id).then((function(t){e.setState({streamerFiltered:t[0]})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"See planning, next stream?"),r.a.createElement("div",{className:"wall-card"},this.state.streamerFiltered&&r.a.createElement("div",null,r.a.createElement("img",{src:this.state.streamerFiltered.planning_image,alt:"pouet"}))))}}]),a}(r.a.Component));et.contextType=D;var tt=et,at=(a(245),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return console.log("this is V1.0"),r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(T.d,null,r.a.createElement(T.b,{exact:!0,path:"/",component:$}),r.a.createElement(T.b,{exact:!0,path:"/signin",component:ne}),r.a.createElement(T.b,{exact:!0,path:"/signup",component:ce}),r.a.createElement(oe,{exact:!0,path:"/profile",component:se}),r.a.createElement(T.b,{exact:!0,path:"/planning",component:$e}),r.a.createElement(T.b,{exact:!0,path:"/user/edit",component:Ce}),r.a.createElement(T.b,{path:"/user/planning/:id",component:tt}),r.a.createElement(T.b,{path:"/schedule/edit",component:Ye})))}}]),a}(r.a.Component)),nt=Object(T.g)(at);a(246),a(247);c.a.render(r.a.createElement(i.a,null,r.a.createElement(F,null,r.a.createElement(nt,null))),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.518675d0.chunk.js.map